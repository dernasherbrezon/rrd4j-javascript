!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(t){this.dsName=t.getString(),console.log(dsName),this.dsType=t.getString(),this.heartbeat=t.getLong(),this.minValue=t.getDouble(),this.maxValue=t.getDouble(),this.lastValue=t.getDouble(),this.accumValue=t.getDouble(),this.nanSeconds=t.getLong()}function s(t){this.consolFun=t.getString(),console.log("fun: "+consolFun),this.xff=t.getDouble(),this.steps=t.getInt(),this.rows=t.getInt(),this.headerStep=t.step,this.headerLastUpdateTime=t.lastUpdateTime,this.robins=[];for(var e=0;e<t.dsCount;e++){var i=t.getInt(),n=new a(t);this.robins.push(new o(i,n,this.rows))}for(var s=0;s<this.rows;s++)for(e=0;e<t.dsCount;e++)this.robins[e].data.push(t.getDouble())}function r(t,e){return t-t%e}function o(t,e,i){this.pointer=t,this.arcState=e,this.rows=i,this.data=[]}function a(t){this.accumValue=t.getDouble(),this.nanSteps=t.getLong()}function h(t){this.data=t,this.index=0,this.signature=this.getString(),this.step=this.getLong(),this.dsCount=this.getInt(),this.arcCount=this.getInt(),this.lastUpdateTime=this.getLong(),this.datasources=[];for(var e=0;e<this.dsCount;e++)this.datasources.push(new n(this));for(this.archives=[],e=0;e<this.arcCount;e++)this.archives.push(new s(this))}Object.defineProperty(e,"__esModule",{value:!0}),s.prototype.getArcStep=function(){return this.headerStep*this.steps},s.prototype.getStartTime=function(){var t=this.getEndTime(),e=this.getArcStep();return t-(this.rows-1)*e},s.prototype.getEndTime=function(){return r(this.headerLastUpdateTime,this.getArcStep())},s.prototype.getData=function(t,e,i){var n=this.getArcStep(),s=r(e,n),o=r(i,n);o<i&&(o+=n);var a=this.getStartTime(),h=this.getEndTime(),u=(o-s)/n+1,c=Math.max(s,a),g=Math.min(o,h),p=[];if(c<=g){var l=(g-c)/n+1,d=(c-a)/n;p=this.robins[t].getValues(d,l)}for(var f=[],v=0;v<u;v++){var m=s+v*n,b=NaN;m>=c&&m<=g&&(b=p[(m-c)/n]),f.push([1e3*(s+v*n),b])}return f},o.prototype.getValues=function(t,e){var i=(this.pointer+t)%this.rows,n=Math.min(this.rows-i,e),s=this.data.slice(i,i+n);if(n<e){var r=e-n,o=this.data.slice(0,0+r);return s.concat(o)}return s},h.prototype.getData=function(t,e,i,n){var s=this.getDsIndex(t),r=this.getArchive(e,i/1e3,n/1e3);return-1===s||null===r?{}:{label:t,data:r.getData(s,i/1e3,n/1e3)}},h.prototype.getArchive=function(t,e,i){for(var n=null,s=null,r=0,o=0,a=0;a<this.arcCount;a++){var h=this.archives[a];if(h.consolFun===t){var u=h.getArcStep(),c=h.getStartTime()-u,g=i-e,p=Math.abs(h.getArcStep()-1);if(c<=e)(null==n||p<r)&&(r=p,n=h);else{var l=g;c>e&&(l-=c-e),(null===s||o<l||o===l&&p<r)&&(s=h,o=l)}}}return null!=n?n:null!=s?s:null},h.prototype.getDsIndex=function(t){for(var e=0;e<this.dsCount;e++)if(t===this.datasources[e].dsName)return e;return-1},h.prototype.getString=function(){for(var t="",e=0;e<40;e+=2)t+=String.fromCharCode(this.data[this.index+e+1]);return this.index+=40,t.trim()},h.prototype.getDouble=function(){var t=new DataView(this.data.buffer,this.index,8),e=t.getFloat64(0,!1);return this.index+=8,e},h.prototype.getLong=function(){return(this.getInt()<<32)+(4294967295&this.getInt())},h.prototype.getInt=function(){var t=(this.data[this.index+0]<<24&4278190080)+(this.data[this.index+1]<<16&16711680)+(this.data[this.index+2]<<8&65280)+(this.data[this.index+3]<<0&255);return this.index+=4,t},h.prototype.skip=function(t){this.index+=t},e.default=h}]);