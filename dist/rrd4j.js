!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){function i(t){this.dsName=t.getString(),this.dsType=t.getString(),this.heartbeat=t.getLong(),this.minValue=t.getDouble(),this.maxValue=t.getDouble(),this.lastValue=t.getDouble(),this.accumValue=t.getDouble(),this.nanSeconds=t.getLong()}function n(t){this.consolFun=t.getString(),this.xff=t.getDouble(),this.steps=t.getInt(),this.rows=t.getInt(),this.headerStep=t.step,this.headerLastUpdateTime=t.lastUpdateTime,this.robins=[];for(var e=0;e<t.dsCount;e++){var i=t.getInt(),n=new a(t);this.robins.push(new s(i,n,this.rows))}for(var r=0;r<this.rows;r++)for(var e=0;e<t.dsCount;e++)this.robins[e].data.push(t.getDouble())}function r(t,e){return t-t%e}function s(t,e,i){this.pointer=t,this.arcState=e,this.rows=i,this.data=[]}function a(t){this.accumValue=t.getDouble(),this.nanSteps=t.getLong()}function o(t){this.data=t,this.index=0,this.signature=this.getString(),this.step=this.getLong(),this.dsCount=this.getInt(),this.arcCount=this.getInt(),this.lastUpdateTime=this.getLong(),this.datasources=[];for(var e=0;e<this.dsCount;e++)this.datasources.push(new i(this));this.archives=[];for(var e=0;e<this.arcCount;e++)this.archives.push(new n(this))}n.prototype.getArcStep=function(){return this.headerStep*this.steps},n.prototype.getStartTime=function(){var t=this.getEndTime(),e=this.getArcStep();return t-(this.rows-1)*e},n.prototype.getEndTime=function(){return r(this.headerLastUpdateTime,this.getArcStep())},n.prototype.getData=function(t,e,i){var n=this.getArcStep(),s=r(e,n),a=r(i,n);a<i&&(a+=n);var o=this.getStartTime(),h=this.getEndTime(),u=(a-s)/n+1,g=Math.max(s,o),c=Math.min(a,h),p=[];if(g<=c){var d=(c-g)/n+1,l=(g-o)/n;p=this.robins[t].getValues(l,d)}for(var f=[],v=0;v<u;v++){var m=s+v*n,x=NaN;m>=g&&m<=c&&(x=p[(m-g)/n]),f.push([1e3*(s+v*n),x])}return f},s.prototype.getValues=function(t,e){var i=(this.pointer+t)%this.rows,n=Math.min(this.rows-i,e),r=this.data.slice(i,i+n);if(n<e){var s=e-n,a=this.data.slice(0,0+s);return r.concat(a)}return r},o.prototype.getData=function(t,e,i,n){var r=this.getDsIndex(t),s=this.getArchive(e,i/1e3,n/1e3);return-1==r||null==s?{}:{label:t,data:s.getData(r,i/1e3,n/1e3)}},o.prototype.getArchive=function(t,e,i){for(var n=null,r=null,s=0,a=0,o=0;o<this.arcCount;o++){var h=this.archives[o];if(h.consolFun==t){var u=h.getArcStep(),g=h.getStartTime()-u,c=i-e,p=Math.abs(h.getArcStep()-1);if(g<=e)(null==n||p<s)&&(s=p,n=h);else{var d=c;g>e&&(d-=g-e),(null==r||a<d||a==d&&p<s)&&(r=h,a=d)}}}return null!=n?n:null!=r?r:null},o.prototype.getDsIndex=function(t){for(var e=0;e<this.dsCount;e++)if(t==this.datasources[e].dsName)return e;return-1},o.prototype.getString=function(){for(var t="",e=0;e<40;e+=2)t+=String.fromCharCode(this.data[this.index+e+1]);return this.index+=40,t.trim()},o.prototype.getDouble=function(){var t=new DataView(this.data.buffer,this.index,8),e=t.getFloat64(0,!1);return this.index+=8,e},o.prototype.getLong=function(){return(this.getInt()<<32)+(4294967295&this.getInt())},o.prototype.getInt=function(){var t=(this.data[this.index+0]<<24&4278190080)+(this.data[this.index+1]<<16&16711680)+(this.data[this.index+2]<<8&65280)+(this.data[this.index+3]<<0&255);return this.index+=4,t},o.prototype.skip=function(t){this.index+=t}}]);